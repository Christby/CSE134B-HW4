<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Dialogs</title>
    <script src=node_modules/dompurify/dist/purify.min.js></script>
</head>
<body>
    <h1>Simple Dialogs</h1>
    <button id="alert">Alert</button>
    <button id="confirm">Confirm</button>
    <button id="prompt">Prompt</button>
    <button id="saferPrompt">Safer Prompt</button>
    <br><br>
    <output id="user-name"></output>

    <script>
        let el1 = document.getElementById('alert');
        el1.addEventListener('click', alertFunc);
        function alertFunc() {
            alert('hi');
        }
        
        let el2 = document.getElementById('confirm');
        let opt = document.getElementById('user-name');
        el2.addEventListener('click', () => {
            let bol = confirm("Do you confirm?");
            opt.textContent = `Confirm result: ${bol}`;
        });

        let el3 = document.getElementById('prompt');
        let userName = document.getElementById('user-name')
        el3.addEventListener('click', promptMsg);
        function promptMsg() {
            let msg = window.prompt("What's your name?");
            if (msg === null) {
                userName.innerHTML = 'User didn\'t input his/her name';
            } else {
                userName.innerHTML = `Your name is: ${msg}`;
            }
        }

        let el4 = document.getElementById('saferPrompt');
        el4.addEventListener('click', safePromptMsg);
        function safePromptMsg() {
            let msg = window.prompt("What's your name?");
            let cleanMsg = DOMPurify.sanitize(msg);
            if (cleanMsg === "") {
                userName.innerHTML = 'User didn\'t input his/her name';
            } else {
                userName.innerHTML = `Your name is: ${cleanMsg}`;
            }
        }
    </script>
</body>
</html>